- hosts: controller
  user: centos
  become_user: root
  become: yes

  vars:
    mysql_socket: "/var/lib/mysql/mysql.sock"
    redis_config: "/etc/redis/redis.conf"
    domain_name: "www.11072100.xyz"
  vars_files:
    - vault.yml

  roles:
    #- setup
    #- update_packages
    #- apache
    #- kubernetes_centos
    #- mysql
    #- rabbitmq_centos
    #- redis_centos

- hosts: workers
  user: ubuntu
  become_user: root
  become: yes

  roles:
    #- setup
    #- update_packages
    - kubernetes_centos
